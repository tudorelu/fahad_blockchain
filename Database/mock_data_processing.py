
data = [
	{"general":{"unique_id":"4bc3036e80bc2400e238b0adc8d20d728678ead73f8620eae93777df09ad4b3e","tier":0,"first_name":"Alan","last_name":"Lempke","birth_date":"25/02/1981","email":"alempke0@google.com.au","gender":"Male","party_id":"3b5cc852b2278bc2c5f0392b3ec74b3ca99251c34cae4cb451fe20605496b9f7"},"detailed_info":{"param_1":"618-95-3597","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"841254ecfb4f87799e9ad118d0cfebde5ef078b5499a4cad43ce5c7989c4fa60","tier":0,"first_name":"Darelle","last_name":"Noteyoung","birth_date":"11/08/1968","email":"dnoteyoung1@dedecms.com","gender":"Female","party_id":"1a7d1cccc54669d565c0d693a2a1b2cd1bb0ac78c5be0098e7f74a2da15c8209"},"detailed_info":{"param_1":"628-28-3900","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"f0b926e09fd2d3ffa8770efad6b22fbd44c6590acbff4212386e60630737b0f5","tier":0,"first_name":"Minne","last_name":"Lambertazzi","birth_date":"10/11/1994","email":"mlambertazzi2@over-blog.com","gender":"Female","party_id":"dc055e9c25671c847cc2a361c9ef3aadfa0d014be394de22954852ec008f599e"},"detailed_info":{"param_1":"144-31-2796","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"de0ccf11c076c981d0d88409018b4f5236b4ddee1a2c69b247d8a877fa12941d","tier":0,"first_name":"Marlee","last_name":"Maxsted","birth_date":"12/01/1983","email":"mmaxsted3@istockphoto.com","gender":"Female","party_id":"04cc1642a6e168e5d938c77c1bb35fd27ee56b7b50472a3eb0b7f53be9f87e2d"},"detailed_info":{"param_1":"258-35-4465","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"c5aab5b0e7f8f08d22092fb711122a1d5f62a47e53a85d33e1ede8e105808698","tier":0,"first_name":"Perle","last_name":"Mapowder","birth_date":"09/07/1969","email":"pmapowder4@senate.gov","gender":"Female","party_id":"ded9f595ab3d29ad7ed1a245848d3e5a2fb5611e95337402252ab99197d87663"},"detailed_info":{"param_1":"563-06-0408","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"7d03ca4daa994f9f2f2ff0e5761fb579b6cb33af0b74abb72f8894025b222bab","tier":0,"first_name":"Filippo","last_name":"Bart","birth_date":"13/10/1966","email":"fbart5@amazon.co.uk","gender":"Male","party_id":"b3c12c17986481c379a054965b14feabccc43de0e02883928f639fe1dc23ecf3"},"detailed_info":{"param_1":"322-26-2931","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"9d66aeaa925e6139a846f168c674d63cd903f299953b5f525ed9e255fd5ab650","tier":0,"first_name":"Randie","last_name":"Bartlosz","birth_date":"10/03/1988","email":"rbartlosz6@wix.com","gender":"Male","party_id":"ceedeb7b52ddbc7a7546917350c2ee73cc9a601eb0cdd933d9d69dd967b9b205"},"detailed_info":{"param_1":"849-44-3255","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"7c46baf628ca7a71490796eba91c6ad6373f7b538e57256b5c82a9fd758e7dde","tier":0,"first_name":"Allegra","last_name":"Bothe","birth_date":"30/01/1992","email":"abothe7@comsenz.com","gender":"Female","party_id":"38b01586b3f6b47a1d152739d74df3cd4c87050a3b35aff84ab75bcbf369e2e3"},"detailed_info":{"param_1":"678-38-0585","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"d725a8c5e800ee99b684501b7b277f44bbece2fe88d19a89ea4e2cb0523f61a2","tier":0,"first_name":"Van","last_name":"Muff","birth_date":"23/07/2011","email":"vmuff8@sphinn.com","gender":"Male","party_id":"b7f2d270798ce3cb35be94033e0239cc22566789bf0d809292e466649b9c818d"},"detailed_info":{"param_1":"647-11-2576","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"5b027cd8bb70ca13c9b7163d6c3d1f1ebcd5f782dbb75cf9445fa6046cbf4468","tier":0,"first_name":"Kandace","last_name":"Mikalski","birth_date":"09/11/1950","email":"kmikalski9@usgs.gov","gender":"Female","party_id":"3e163d620dd7fe104ce8fc5e9f425ace7c2aaa911b734bb15e38b18830e5fa4e"},"detailed_info":{"param_1":"530-56-0571","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"13be9999a8f59008c9a39433ebd1244bc2a083f5e321fa75ca23a23580c0d693","tier":0,"first_name":"Collen","last_name":"Cleugher","birth_date":"02/11/1988","email":"ccleughera@friendfeed.com","gender":"Female","party_id":"0b41b2e101cc5704bb7b3e5061fdb2c2538553094f9d2e07945be95c201a5e8c"},"detailed_info":{"param_1":"592-51-6459","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"3a2b5d2435b799fc089078b80e13a50d1455014ce1139be11c36e3dcfa249bfc","tier":0,"first_name":"Bale","last_name":"Perryn","birth_date":"27/08/1979","email":"bperrynb@multiply.com","gender":"Male","party_id":"526a6519824da0cc5e2a9c764aa465353f67d5ea7929d85c7543e5a32f015749"},"detailed_info":{"param_1":"252-96-2522","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"95cde7011a5db116302cae4be15e35755c62a1871010a670d563af17044902b5","tier":0,"first_name":"Tedmund","last_name":"Gallehawk","birth_date":"17/07/1954","email":"tgallehawkc@netlog.com","gender":"Male","party_id":"35927e2df3c10c01686356b3c264da5935936cc6acd23bef901ed1b71e8d3eeb"},"detailed_info":{"param_1":"122-94-6650","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"3e805d349679c51426c04acfe6f8083d602490baba161ed7d630e8007b3b242b","tier":0,"first_name":"Kilian","last_name":"Dellow","birth_date":"16/09/1969","email":"kdellowd@chicagotribune.com","gender":"Male","party_id":"38905a05d79997215704190c653cb33841e43a242e6df45f00cc7d9f69647c7b"},"detailed_info":{"param_1":"680-35-0279","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"a7af5a67dcda08638b6f10bf9e464a6ba8fa55e46e7f1b722ac0111677c77827","tier":0,"first_name":"Merrie","last_name":"Lintall","birth_date":"19/05/1974","email":"mlintalle@ow.ly","gender":"Female","party_id":"f36ea30372aa168f3fb39d62931659477de39998810cd0c3c9608a00fc4dc970"},"detailed_info":{"param_1":"486-77-3200","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"bbcfa8b3e32bcfa650c5e01f7537f117f6cc4516a835d193067ef1e3868e03cf","tier":0,"first_name":"Gertrud","last_name":"Tillman","birth_date":"30/06/1944","email":"gtillmanf@apple.com","gender":"Female","party_id":"76bcf05250a23b822f29149bd4d0a6be17bf44241eefe8602c1f6b0e325a8e03"},"detailed_info":{"param_1":"738-80-7291","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"f77aefadfff6186a28f2a49d520396aa9040c668c5c90d87dd61fd15f0e706c5","tier":0,"first_name":"Marlene","last_name":"Pawden","birth_date":"06/08/1947","email":"mpawdeng@state.tx.us","gender":"Female","party_id":"a0450bf148a9d7b78c6b890a91669d947d17de7defd39a6e2c130e8b3bec4e0f"},"detailed_info":{"param_1":"306-75-9090","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"d6b442761deb671d977670de7e936e8a64009966a670bf015ab91865c275e511","tier":0,"first_name":"Huntley","last_name":"MacCostye","birth_date":"12/04/1997","email":"hmaccostyeh@fema.gov","gender":"Male","party_id":"e6e462ea640e9a1a1cd1a148f0a4d07e17b9d2e480efbf807a2cda7eb1e9a907"},"detailed_info":{"param_1":"478-52-8629","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"1645cd3b45f31d217d274ded0d36d8ec6c97a5c66dd7c3d98fc4a11c276d08c6","tier":0,"first_name":"Ruddie","last_name":"Girdwood","birth_date":"15/06/1946","email":"rgirdwoodi@mapy.cz","gender":"Male","party_id":"ad51ecdbdb9f982d09935a933bba26b71259249b5862b425f2d5fb97c224b70f"},"detailed_info":{"param_1":"595-77-0967","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}},
	{"general":{"unique_id":"01e35c9a09a10be1100f59acda454666ba15d35690a3af714e4b3ba20359f17e","tier":0,"first_name":"Tull","last_name":"Hatry","birth_date":"09/08/2016","email":"thatryj@alibaba.com","gender":"Male","party_id":"ad262abf4154a0abbeceba2bf36fb3463ae159c4131a7d0890f6ddaf51fa2460"},"detailed_info":{"param_1":"623-03-5583","param_2":"21342ace95ba9072202b190239cc480c9d8062f2","dict_1":[]},"access_rights":{"agents":[],"parties":[]}}
]

data2 = [
	{"general":{"unique_id":"41c27a139bc9e745016d1a04b242fd9b3a9d9a4d72761682e5fea19d6cdeee76","tier":0,"first_name":"Emelen","last_name":"Hollingsbee","birth_date":"14/11/1954","email":"ehollingsbee0@reuters.com","gender":"Male","party_id":"516e1472d958c0eaf4b9529b757a2c263d47a52a12eddfb6864d6525fc60d4b3"},"detailed_info":{"param_1":"629-36-3683","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"9794aedfee176d7cea0e1bb6562aaa119d7ec75df436038e74bd3a4fe2b8fa66","tier":0,"first_name":"Paco","last_name":"Beidebeke","birth_date":"17/12/1977","email":"pbeidebeke1@guardian.co.uk","gender":"Male","party_id":"79a7ea42f2cf4ae49ed886d7f84e5570369d5e742922f553f6443d3a6f0cba3b"},"detailed_info":{"param_1":"594-13-3791","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"8e047f627be42e90fb7d601ab33f802dabb963aa7e90a48d35b503f51fc295e3","tier":0,"first_name":"Allix","last_name":"Swithenby","birth_date":"27/12/1982","email":"aswithenby2@google.com","gender":"Female","party_id":"5406e5dcd992696fdf8d294481c6e3fd53596ed827f5546fe29cbe3026846a5a"},"detailed_info":{"param_1":"819-61-3165","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"5362bf55e030d7dd4ce7ab4ab3728d3dfe384ad39115f00a70dde9b9fc54d0b8","tier":0,"first_name":"Rhianon","last_name":"Whitfeld","birth_date":"18/02/1985","email":"rwhitfeld3@prlog.org","gender":"Female","party_id":"b663480a789e3c65e38e4640682258c2d487419cfdd35a3ff4a4bb53bcd725b8"},"detailed_info":{"param_1":"310-94-9166","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"b1d663f31ad4d7e87a63497cea2d11cd0d49c54aa5a329fc33dd3196dbd79d74","tier":0,"first_name":"Courtenay","last_name":"Itzhaiek","birth_date":"25/10/1940","email":"citzhaiek4@123-reg.co.uk","gender":"Female","party_id":"1bd0ff06b1a4fa6dc8f671b53313731b9b7617786bf8d6062d397f88c4dc0b40"},"detailed_info":{"param_1":"307-47-8976","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"b78ebaea2c38985e8af4a468a3fcda8d16d04f194440f75a6e9e41ef9cbfea39","tier":0,"first_name":"Rosamund","last_name":"Esland","birth_date":"07/07/1984","email":"resland5@mapy.cz","gender":"Female","party_id":"cae47dbe3bc5d238c52568a958674633004fc24cc56127e796f180ff7ad896ff"},"detailed_info":{"param_1":"484-85-8723","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"f167c0758823a92a48b527a5c7d8bd074130dc64ad40f4ce5d740ed4c4922022","tier":0,"first_name":"Angelica","last_name":"Giacomuzzi","birth_date":"14/07/2006","email":"agiacomuzzi6@constantcontact.com","gender":"Female","party_id":"192a52f3abcb69fc55e88ff7a19d7ff94bbd4abb46a176b1e7e29ed6632565eb"},"detailed_info":{"param_1":"437-58-8576","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"96c8b3e0b6354cd6c992de0bc6b7bf8c0de4285eb799ee44b803c0ad480fd9fb","tier":0,"first_name":"Jae","last_name":"Haggata","birth_date":"13/08/1967","email":"jhaggata7@who.int","gender":"Male","party_id":"dc0d5c1dffd5538d6097dfd85dd06966d5a7562418727e031516443d4f8276fd"},"detailed_info":{"param_1":"190-07-3500","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"0ab1a090ecfea5f7e67f6b6342d8491d2d044180c1531287df41e5cada7d91aa","tier":0,"first_name":"Munroe","last_name":"MacKegg","birth_date":"04/06/2018","email":"mmackegg8@comcast.net","gender":"Male","party_id":"47849461b7266b02fb9ae3f9d95b1b81dbb5abb8663346639b46d148b12c11df"},"detailed_info":{"param_1":"102-13-9111","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"56a96ada6ba23bc02f88503e3ec5e958b8fdbae5aea040861df852bd4a1f1487","tier":0,"first_name":"Ursola","last_name":"Jiggen","birth_date":"10/02/1985","email":"ujiggen9@rediff.com","gender":"Female","party_id":"3bf971b59897ced5400896235af26ba7639ed72d54858a7714dd1d3be5e2dcda"},"detailed_info":{"param_1":"583-11-6607","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"8adea0a3fe7b30ad49f7e4ba634c2bda9aaa916cd2daf487a1e3055d9d4f4383","tier":0,"first_name":"Donn","last_name":"Cowins","birth_date":"12/07/1977","email":"dcowinsa@google.pl","gender":"Male","party_id":"40d9b070a565f41e084a84720e2828cf0fb983862157c8828dcb2bc0ba3afb92"},"detailed_info":{"param_1":"522-45-0429","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"be714a5a9d41447bd7ce82f2a84f30f930a55929fbca6d710416244e2f9a3901","tier":0,"first_name":"Amaleta","last_name":"Local","birth_date":"27/09/2005","email":"alocalb@guardian.co.uk","gender":"Female","party_id":"89da9106173d60195e4817e64f4d19a787f5b9634f48d328b43d9c9b7dbd0906"},"detailed_info":{"param_1":"767-99-5059","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"5708868e3a9b7ba6582d40081e3281f555c050ef7dc19b2bf8dba303c7e5f897","tier":0,"first_name":"Gauthier","last_name":"Mitrovic","birth_date":"30/08/1960","email":"gmitrovicc@joomla.org","gender":"Male","party_id":"d8966408d4b86b490a159140ef611f7d7eaf2fab7c1744e7f90f05833db07a0d"},"detailed_info":{"param_1":"781-24-0630","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"32f9902b1fbfb5cfa29fcf85942ab29acef6be7468ea5faa3e3c9b05045bdf01","tier":0,"first_name":"Wyn","last_name":"Kerfut","birth_date":"04/10/1999","email":"wkerfutd@dagondesign.com","gender":"Male","party_id":"cb1f869ffe97a51dc8dfe9850318fd5ee1776f748cebf8e1e48d018e868f6aeb"},"detailed_info":{"param_1":"213-10-4608","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"f694700b8987c5fd193f520b56ffc65eb2844507748db525104f873bd91facb4","tier":0,"first_name":"Norah","last_name":"Cheale","birth_date":"25/04/1973","email":"nchealee@youku.com","gender":"Female","party_id":"272e27967e828319f56e971e628fc19e8cf5971c8c8b27b6c6e57d69ef91ff08"},"detailed_info":{"param_1":"625-03-1826","param_2":"807824b5fb12d58806e05653cdc07f203fd54b36","dict_1":[]}},
	{"general":{"unique_id":"256c80492e92011413fe75f970e52fe45ec6c88d899916c246362f6029a6c6dd","tier":0,"first_name":"Evangelin","last_name":"Husthwaite","birth_date":"18/12/1985","email":"ehusthwaitef@icio.us","gender":"Female","party_id":"39233fcd389edcb17f816774afad0ad6bf17e70293b533674e08759373aa7326"},"detailed_info":{"param_1":"721-90-2524","param_2":"0079fa793fdaa53b178fe8d3f630ce3462637c52","dict_1":[]}},
	{"general":{"unique_id":"e1555ad3e399295d1106e4af9e3dece4e4da8b27bc06f0b0943f28a15fc99d44","tier":0,"first_name":"Marianne","last_name":"McIndoe","birth_date":"22/09/1940","email":"mmcindoeg@wunderground.com","gender":"Female","party_id":"3242923479aa417f65f9a542708db9ca32541896d12f0f94cc4129e36c745997"},"detailed_info":{"param_1":"797-39-1043","param_2":"0079fa793fdaa53b178fe8d3f630ce3462637c52","dict_1":[]}},
	{"general":{"unique_id":"51ebb45a0ff3239c2808fddf690746ad34aa0afa72bc1149bbc9f30eae987bb9","tier":0,"first_name":"Freeland","last_name":"Gosnell","birth_date":"24/08/1959","email":"fgosnellh@myspace.com","gender":"Male","party_id":"98cb4910a166b59d4e180d9b5e6bef19d7e0126010f053e1a53c5c977674edaa"},"detailed_info":{"param_1":"363-92-4871","param_2":"0079fa793fdaa53b178fe8d3f630ce3462637c52","dict_1":[]}},
	{"general":{"unique_id":"d41f9b6e00cc128d39075764f8cd9820bb487d3070da111f9782573126aa452e","tier":0,"first_name":"Aubrette","last_name":"Dunguy","birth_date":"28/06/1975","email":"adunguyi@yale.edu","gender":"Female","party_id":"3d495aadc3790972705ff45eb758285e675194f933634f8ebe0bfc012507c969"},"detailed_info":{"param_1":"566-62-7276","param_2":"0079fa793fdaa53b178fe8d3f630ce3462637c52","dict_1":[]}},
	{"general":{"unique_id":"19c7fc6ebc172de4b7942589f8e9c511de3f73f5f068e810021ba4d6e107692a","tier":0,"first_name":"Sayre","last_name":"Lerwell","birth_date":"17/02/1971","email":"slerwellj@w3.org","gender":"Female","party_id":"c64b7db70961df15f9c771307e7c22930c8798bad5750565586d1c5e52b38b6c"},"detailed_info":{"param_1":"126-15-0573","param_2":"0079fa793fdaa53b178fe8d3f630ce3462637c52","dict_1":[]}}
]

from web3.auto import w3
from eth_keys import keys
from eth_utils import decode_hex
from eth_keys import keys
import codecs
import hashlib
import json

decoder = codecs.getdecoder("hex_codec")

data_updated = {}

for entry in data2:
	agent_private_key = entry["general"]["unique_id"]
	pk_bytes = decoder(agent_private_key)
	pk = keys.PrivateKey(pk_bytes[0])
	agent_public_key = pk.public_key
	agent_address = pk.public_key.to_checksum_address()

	org_private_key = entry["general"]["party_id"]
	pk_bytes = decoder(org_private_key)
	pk = keys.PrivateKey(pk_bytes[0])
	org_public_key = pk.public_key
	org_address = pk.public_key.to_checksum_address()

	entry_updated = entry
	entry_updated["general"]["unique_id"] = str(agent_address)
	entry_updated["general"]["public_key"] = str(agent_public_key)
	entry_updated["general"]["party_id"] = str(org_address)
	entry_updated["general"]["party_public_key"] = str(org_public_key)

	#entry_updated["data_hash"] = hashlib.sha224(json.dumps(entry_updated, sort_keys=True).encode()).hexdigest()

	data_updated[agent_address] = entry_updated

	#print(w3.eth.accounts.privateKeyToAccount(entry["general"]["unique_id"]))

print("New data is ");
print(data_updated)

with open('database.json', 'w') as db_file: 
    db_file.write(json.dumps(data_updated, indent=4))

